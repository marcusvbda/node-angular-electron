<script src="./services/envService.js"></script>

<!DOCTYPE html>
    <html ng-app="APP" lang="PT-BR" style="overflow-y:hidden;overflow-x: hidden;">
    <head>

      <meta charset="utf-8" />
      <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png" />
      <link rel="icon" type="image/png" href="./assets/img/favicon.png" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

      <title></title>

      <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
      <meta name="viewport" content="width=device-width" />


      <link rel="stylesheet" href="./assets/css/bootstrap.min.css" />

      <script type="text/javascript">
        window.$ = window.jQuery = require('jQuery');
      </script>
      
      <script src="./assets/js/bootstrap.min.js"></script> 

      <link href="./assets/css/material-dashboard.css" rel="stylesheet"/>


      <link href="./assets/css/font-awesome.min.css" rel="stylesheet">
      <link href='./assets/css/fonts.css' rel='stylesheet' type='text/css'>

      <script src="./node_modules/sweetalert2/dist/sweetalert2.js"></script>
      <link rel="stylesheet" href="./node_modules/sweetalert2/dist/sweetalert2.css">


      <script src="./assets/js/material.min.js" type="text/javascript"></script>

      <script src="./assets/js/chartist.min.js"></script>

      <script src="./assets/js/bootstrap-notify.js"></script>

      <script src="./assets/js/material-dashboard.js"></script>

      <script src="./services/coreService.js"></script>

      <script src="./node_modules/jquery-validation/dist/jquery.validate.min.js"></script>    
      <link href="./assets/css/custom.css" rel="stylesheet" />

    </head>

    <style type="text/css">

    </style>


      <body>
          <div class="topo" > 
            <div class="row">
              <div class="col-md-4 text-left divTopo">
                <script type="text/javascript">document.write($core.date());</script>  
                -
                <span id="hora">
                  <script type="text/javascript">document.write($core.time());</script>  
                </span>
              </div>
              <div class="col-md-4 text-center divTopo">
                <span> <script type="text/javascript">document.write($env['name']);</script> </span>                
              </div>
              <div class="col-md-4 text-right divTopo">
                <button id="btn_minimize" class="btnTopo hgrey"><img src="./assets/img/icons/minimize.png" style="height: 15px;"></button>
                <button id="btn_exit" class="btnTopo hred"><img src="./assets/img/icons/exit.png" style="height: 15px;"></button>
              </div>
            </div>
          </div>

      <div class="wrapper" style="overflow-y:hidden;overflow-x: hidden;height: 98%">
        <div ng-view></div>
      </div>


      <script data-require="angular.js@1.4.8" data-semver="1.4.8"  src="./node_modules/angular/angular.min.js"></script>
      <script data-require="angular-route@*" data-semver="1.4.8" src="./node_modules/angular/angular-route.js"></script> 
      <script data-require="angular_middleware@2.1.2" data-semver="2.1.2" src="./node_modules/angular/angular-middleware.min.js"></script>
      <script src="./node_modules/angular/angular-validate.js"></script>    


           
      <script src="./app/app.js"></script>
      <script src="./app/routes.js"></script>
      <script src="./app/middleware.js"></script>
      <script src="./services/authService.js"></script>
      <script src="./services/dbService.js"></script>
      <script src="./services/modelService.js"></script>
      <script src="./app/controllers/mainController.js"></script>
      <script src="./app/controllers/userController.js"></script>
      <script src="./app/model/users.js"></script>
    </body>
</html>



       
<script type="text/javascript">
window.setInterval(function()
{
  $('#hora').html($core.time());
},1000);


$(document).ready(function()
{
    const app = require('electron').remote.app;
    const { remote } = require('electron');
    $("#btn_exit").click(function()
    {
      $core.confirm("Confirmação","Deseja mesmo sair do sistema ?","warning",function()
      {
        remote.BrowserWindow.getFocusedWindow().close();
      },["Sim","Não"]); 
    });
    $("#btn_minimize").click(function()
    {
      remote.BrowserWindow.getFocusedWindow().minimize();
    });
});



$(document).on('keydown', 'input' ,'textarea', function(e) 
{
  if(e.keyCode == 13 && e.target.type !== 'submit') 
  {
    var inputs = $(this).parents("form").eq(0).find(":input");
    var idx = inputs.index(this);
    inputs[idx + 1].focus(); 
    e.preventDefault();    
    return false;
  }
});

$.fn.getData = function()
{
    var o = {};
    var a = this.serializeArray();
    $.each(a, function() {
        if (o[this.name] !== undefined) {
            if (!o[this.name].push) {
                o[this.name] = [o[this.name]];
            }
            o[this.name].push(this.value || '');
        } else {
            o[this.name] = this.value || '';
        }
    });
    return o;
};  

</script>